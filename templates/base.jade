version = 'alpha'
current_year = new Date().getFullYear()

!!! 5
html
	head
		//- TODO: add manifest="manifest.mf" + make file
		meta(http-equiv='Content-Type', content='text/html', charset='utf-8')
		title CSD
		link#favicon(href='favicon.ico', rel='shortcut icon')


		block style
			//ERROR: passing false to compress still compresses the stylesheet!!!
			:stylus(compress=debug, inline=true)
				@import "stylus/base"

				//toggleJS
				@import "stylus/toggle"

				//Chosen jQuery Select Box
				@import "stylus/chosen"

				//JGrowl
				@import "stylus/jgrowl"

				//Tipsy
				@import "stylus/tipsy"

		//- TODO: add IE style sheet to fix everything in that awful browser (low priority) & change below to regular comment
		//- if lt IE 9
			link(rel='stylesheet', type='text/css', href='static/css/style-ie.css')

		//- TODO: add meta tags for bookmarks and/or for search engines
	body
		#layout
			#main
				ul#navbar
					//add background to navbar parts, like github?
					block global_nav
						//- this block holds buttons which are always displayed on all pages
						//- append to this block to add button sets or buttons

						li.buttonset
							block local_nav
								//- this block holds buttons that are used for local navigation (not all of them are displayed at once)
								//- prepend to this block to add buttons to the buttonset

								+nav_button('navigation')
									include svg/nav

						li.buttonset
							+nav_button('account','Account Settings')
								| Guest
							
							+nav_button('login')
								include svg/login
								include svg/logout

							+nav_button('training')
								include svg/training

							//- contact button is temporarly removed... will work on it later
								button(type="button",title="Contact",onclick="window.location='#contact'")
									include svg/contact

					block global_controls
						//- this block holds buttons which are used on all pages as controls


					block local_controls
						//- this block holds buttons which are used on specific pages for controls (ctrl_buttons)

						//- TODO: disable submit button when pressed, until form change (check with error check function)
						li
							+ctrl_button('submit')
								include svg/submit
							

					//-li
					//-	button.signup-c.local(type="button",onclick="postSignup()",title="submit signup form") Submit
					
				a#logo(href="#home",title="CORE 2062 Scouting Database")
					include svg/logo
				
				hr
			
				#content
					noscript
						p Um, this is awkward&hellip; all navigation (and most of the functionality) on this site relies on JavaScript, a programming language that helps add interactivity to web sites. So I can't really do anything until you enable it. If you don't know how to enable JavaScript, look <a href="http://www.activatejavascript.org">here</a>.
					
					block content

						p Here's how it is: Earth got used up, so we terraformed a whole new galaxy of Earths, some rich and flush with the new technologies, some not so much. Central Planets, them was formed the Alliance, waged war to bring everyone under their rule; a few idiots tried to fight it, among them myself. I'm Malcolm Reynolds, captain of Serenity. Got a good crew: fighters, pilot, mechanic. We even picked up a preacher, and a bona fide companion. There's a doctor, too, took his genius sister out of some Alliance camp, so they're keeping a low profile. You got a job, we can do it, don't much care what it is.
						br
						br
						p We've got a gorilla for sale. Magilla Gorilla for sale. Won't you buy him, take him home and try him, gorilla for sale. Don't you want a little gorilla you can call your own, a gorilla who'll be with ya when you're all alone? How much is that gorilla in the window? Take our advice, at any price, a gorilla like Magilla is mighty nice. Gorilla, Magilla Gorilla for sale.
						br
						br
						p Look for the Union Label when you are buying a coat, dress, or blouse. Remember, somewhere our union's sewing, our wages going to feed the kids, and run the house. We work hard, but who's complaining. Thanks to the I.L.G. we're paying our way. So always look for the Union Label. It means we're able to make it in the U.S.A.!
						br
						br
						p We've got a gorilla for sale. Magilla Gorilla for sale. Won't you buy him, take him home and try him, gorilla for sale. Don't you want a little gorilla you can call your own, a gorilla who'll be with ya when you're all alone? How much is that gorilla in the window? Take our advice, at any price, a gorilla like Magilla is mighty nice. Gorilla, Magilla Gorilla for sale.



				#sidebar
					//- other sidebar stuff goes here
					#jGrowl-container.jGrowl.bottom-right
					//- TODO: fix jGrowl positioning - align with bottom of side bar (add pooling? ... or mechanism to remove messages when there are too many? ... or scroll bar on message container - not including "close all" in scroll?)
					//- TODO: create classes of jGrowl notifications to close selectively

		#foot

			//- Google +1 Button
			//- TODO: make a +Snippet https://developers.google.com/+/plugins/+1button/#plusonetag
			.g-plusone(data-size="medium", callback="plusone()", data-href="www.urlofmysite.com")
			
			#page_footer
				#progressbar
					#progressbar_value
					#errorbar_value

				p
					| CORE Scouting Database - Created By 
					a(href="#contact") Sean Lang 
					| - &copy;#{current_year} - version: #{version}	

		#modal_aligner
			#modal_wrapper
				#modal_container(style="display: none")
					#modal_titlebar
						span#modal_title Title
						//- remove the extra a tag ?
						a.close(onclick='modalClose()')
							span.icon.icon-closethick

					block modal_content

					#modal_buttons
						block modal_buttons

		#overlay(onclick='modalClose()')

		block script
			//- the scripts included here by default are those needed for multiple pages in the site
			//- scripts which are only needed for one page may be appended to this block
			include coffee/jquery
			include coffee/jgrowl
			include coffee/json2js
			include coffee/underscore
			include coffee/backbone
			include coffee/tipsy
			include coffee/base
			//include coffee/chosen
			//include coffee/toggle